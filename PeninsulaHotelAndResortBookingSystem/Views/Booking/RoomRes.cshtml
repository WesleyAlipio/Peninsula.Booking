@using PeninsulaHotelAndResortBookingSystem.Infrastructure.Security;
<section>
    <div class="row">
        @{
            if (Model != null)
            {
                <div class=" jumbotron">
                    <div class="row">
                        @{
                            var user = this.User;
                            foreach (var facility in Model)
                            {
                                <div class="card mb-3">
                                    <h3 class="card-header">@facility.Name</h3>
                                    <div class="card-body">
                                        <h5 class="card-title">Special title treatment</h5>
                                        <h6 class="card-subtitle text-muted">Support card subtitle</h6>
                                    </div>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="d-block user-select-none" width="100%" height="200" aria-label="Placeholder: Image cap" focusable="false" role="img" preserveAspectRatio="xMidYMid slice" viewBox="0 0 318 180" style="font-size:1.125rem;text-anchor:middle">
                                        <rect width="100%" height="100%" fill="#868e96"></rect>
                                        <text x="50%" y="50%" fill="#dee2e6" dy=".3em">Image cap</text>
                                    </svg>
                                    <div class="card-body">
                                        <p class="card-text">@facility.Description</p>
                                    </div>
                                    <div class="card-body">
                                        <span>Rates:@facility.Rates</span>

                                        <span>Occupants:@facility.Occupants</span>
                                    </div>
                                    <div class="card-footer text-muted">
                                                                                     
                                                <a href="#" type="button" onclick="bookthis('@facility.FacilityID','@ViewBag.dateIn','@ViewBag.dateOut')" class="btn btn-success">Book now</a>
                           
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            }
        }
    </div>
</section>

@section confirmBook {

    <script>

        var baseUrl = location.origin;
        function bookthis(fID, dateIn, dateOut) {

            window.location = baseUrl + "/Booking/confirmBooking" + "?dateArr=" + dateIn + "&dateDep=" + dateOut + "&RoomID=" + fID ;
      }
    </script>

}


